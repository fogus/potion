{"version":1,"ops":[{"type":1,"author":{"id":"e862acab78923d0333af14df3ccee9c7e14880e7"},"timestamp":1287537212,"metadata":{"github-id":"MDU6SXNzdWUzNzE1ODM=","github-url":"https://github.com/perl11/potion/issues/9","origin":"github"},"title":"'eval' has problems, parse is not GC safe","message":"In potion, eval has some problems that make it behave strangely sometimes, such as that `loop: 'x = Object()' eval.` segfaults while `'loop: x = Object().' eval` doesn't.\n\nI think this is due to the fact that `potion_eval` calls `potion_parse` which overwrites data in the `P` variable. One way to overcome this problem would be to create a new `Potion` object in `potion_eval`, but that would require using `potion_create`/`potion_init`, which overwrites global variables like `PN_string` that are vital to the operation of the original `Potion` object. The only way I can think of overcoming this is to use `fork` in `potion_eval`.","files":null}]}