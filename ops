{"version":1,"ops":[{"type":1,"author":{"id":"491cb4babd9d0d159e94ac35859a74cde8bd77d2"},"timestamp":1370292605,"metadata":{"github-id":"MDU6SXNzdWUxNTA4ODAzNw==","github-url":"https://github.com/perl11/potion/issues/29","origin":"github"},"title":"Building with `make -w` produces erroneous config.h","message":"Building potion with `make -w` produces an erroneous config.h file leading to a variety of errors:\n\n```\nCC core/potion.opic\nIn file included from core/potion.c:13:\nIn file included from core/potion.h:22:\ncore/config.h:5:1: error: type specifier missing, defaults to 'int' [-Werror,-Wimplicit-int]\nmake[2]: Entering directory `/opt/local/var/macports/build/_Users_rschmidt_macports_dports_lang_potion/potion/work/potion-1be1e0bcf1c288cf34861ef864555eeb6245f2ff'\n^~~~\ncore/config.h:5:8: error: expected ';' after top level declarator\nmake[2]: Entering directory `/opt/local/var/macports/build/_Users_rschmidt_macports_dports_lang_potion/potion/work/potion-1be1e0bcf1c288cf34861ef864555eeb6245f2ff'\n       ^\n       ;\ncore/config.h:5:10: error: unknown type name 'Entering'\nmake[2]: Entering directory `/opt/local/var/macports/build/_Users_rschmidt_macports_dports_lang_potion/potion/work/potion-1be1e0bcf1c288cf34861ef864555eeb6245f2ff'\n         ^\ncore/config.h:5:28: error: expected ';' after top level declarator\nmake[2]: Entering directory `/opt/local/var/macports/build/_Users_rschmidt_macports_dports_lang_potion/potion/work/potion-1be1e0bcf1c288cf34861ef864555eeb6245f2ff'\n                           ^\n                           ;\ncore/config.h:5:163: error: missing terminating ' character [-Werror,-Winvalid-pp-token]\nmake[2]: Entering directory `/opt/local/var/macports/build/_Users_rschmidt_macports_dports_lang_potion/potion/work/potion-1be1e0bcf1c288cf34861ef864555eeb6245f2ff'\n                                                                                                                                                                  ^\ncore/config.h:34:162: error: missing terminating ' character [-Werror,-Winvalid-pp-token]\nmake[2]: Leaving directory `/opt/local/var/macports/build/_Users_rschmidt_macports_dports_lang_potion/potion/work/potion-1be1e0bcf1c288cf34861ef864555eeb6245f2ff'\n                                                                                                                                                                 ^\n```\n\nThe purpose of `make`'s `-w` option is to print lines \"Entering directory\" and \"Leaving directory\" at appropriate times, which is sometimes nice to see when one is trying to understand a build system, but for some reason these are ending up in potion's config.h file, which is obviously invalid syntax in that context. Using `make` without the `-w` option seems to be fine.","files":null}]}